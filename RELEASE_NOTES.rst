=======================================
 Release notes for PyTables 3.9 series
=======================================

:Author: PyTables Developers
:Contact: pytables-dev@googlegroups.com

.. py:currentmodule:: tables


Changes from 3.8.0 to 3.9.0
===========================

- Improve `setup.py` and `blosc2` discovery mechanism.
- Update external dibraries:

  * c-blosc v1.21.4
  * hdf5 v1.14.1
  * lz4 v1.9.4
  * zlib v1.2.13

- Fix compatibility with numexpr v2.8.5.


Changes from 3.7.0 to 3.8.0
===========================

Improvements
------------
- Support for Python 3.11 has been added (PR #962).
- Support for Python 3.6 and Python 3.7 has been dropped (PR #966).
- Added a new (registered) HDF5 filter for Blosc2 compressor (PR #969).
- Added optimized paths for Blosc2 reading and writing in tables. This
  bypasses the HDF5 filter pipeline by building the Blosc2 CFrames and
  sending them to the HDF5 direct chunking machinery (PR #969).
- Internal C-Blosc sources updated to 1.21.2.
- Thanks to Oscar Guiñon, Francesc Alted for implementing Blosc2 the
  support and NumFOCUS for providing a grant for that.

Other changes
-------------
- Starting form this release, C source files generated by Cython are no
  longer included in the source distribution package.
- Pre-built HTML documentation is no longer included in the source package.


Changes from 3.6.1 to 3.7.0
===========================

Improvements
------------
- Compatibility with Python 3.10, numpy 1.21 and HDF5 1.12.
- Support for Python 3.5 has been dropped (:issue:`840` and :issue:`850`).
- Windows: Significantly faster `import tables` PR #781.
  Thanks to Christoph Gohlke.
- Internal C-Blosc sources updated to 1.21.1 (:issue:`931`).
  Note that, starting from C-Blosc 1.19 does not include the Snappy codec
  sources anymore, so Snappy will be not available if you compile from
  included sources; other packages (like conda or wheels),
  may (or may not) include it.
- Stop using appveyor and deprecated ci-helpers (closes :issue:`827`).
- Switch to `git submodule` for the management of vendored c-blosc sources.
- CI moved to GitHub Actions (GHA).
- Drop Travis-CI.
- Improved code formatting and notation consistency (:issue:`873`,
  :issue:`868`, :issue:`865` thanks to Miroslav Šedivý).
- Improve the use of modern Python including :mod:`pathlib`, f-strings
  (:issue:`859`, :issue:`855`, :issue:`839` and :issue:`818`
  thanks to Miroslav Šedivý).
- Several improvements to wheels generation in CI
  (thanks to Andreas Motl @amotl and Matthias @xmatthias).
- Simplified management of version information.
- Drop dependency on the deprecated distutils.
- Modernize the setup script and add support for PEP517 (:issue:`907`).

Bugfixes
--------
- Fix `pkg-config` (`setup.py`) for Python 3.9 on Debian.
  Thanks to Marco Sulla PR #792.
- Fix ROFileNode fails to return the `fileno()` (:issue:`633`).
- Do not flush read only files (:issue:`915` thanks to @lrepiton).

Other changes
-------------
- Drop the deprecated `hdf5Version` and `File.open_count`.
- the :func:`get_tables_version` and :func:`get_hdf5_version` functions are
  now deprecated please use the coresponding :data:`tables.__version__` and
  :data:`tables.hdf5_version` instead.
